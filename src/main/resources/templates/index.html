<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>

    <!-- NAVBAR -->
    <nav style="padding: 15px; background: #333; color: white;">
        <ul style="list-style: none; display: flex; gap: 20px; align-items: center;">

            <!-- Cuando NO está autenticado -->
            <li sec:authorize="isAnonymous()">
                <a href="/login" style="color:white; text-decoration:none;">Iniciar Sesión</a>
            </li>

            <li sec:authorize="isAnonymous()">
                <a href="/auth/registro" style="color:white; text-decoration:none;">Registrarse</a>
            </li>

            <!-- Cuando SÍ está autenticado -->
            <li sec:authorize="isAuthenticated()">
                <span>Hola, <b sec:authentication="name"></b></span>
            </li>

            <li sec:authorize="isAuthenticated()">
                <form action="/logout" method="post" style="margin:0;">
                    <button type="submit">Cerrar Sesión</button>
                </form>
            </li>

        </ul>
    </nav>

    <!-- CONTENIDO DE LA PÁGINA -->
    <section style="padding: 40px; text-align: center;">
        <h1>Bienvenido a la Página Principal</h1>
        <p>Esta es tu página de inicio después de iniciar sesión.</p>

        <div sec:authorize="isAuthenticated()">
            <p>¡Gracias por iniciar sesión! Disfruta tu experiencia.</p>
        </div>

        <div sec:authorize="isAnonymous()">
            <p>Por favor inicia sesión o regístrate para acceder al contenido completo.</p>
        </div>
    </section>

</body>
</html>
